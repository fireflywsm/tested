	window.gridData = [{
		userId: 1,
		userName: "admin",
		userPassword: "admin",
		userNickname: "张三",
		userSex: "男",
		userCreateDate: "2017/05/08",
		userLastLoginDate: "2017/05/10 14:58",
		userTel: "027-88881234",
		userPhone: "15812345678",
		userRemark: "",
		userState: "启用",
	},{
		userId: 2,
		userName: "admin1",
		userPassword: "admin1",
		userNickname: "哈哈",
		userSex: "男",
		userCreateDate: "2017/05/10",
		userLastLoginDate: "2017/05/09 14:58",
		userTel: "027-88881234",
		userPhone: "15812345678",
		userRemark: "YYYYY",
		userState: "禁用",
	},{
		userId: 3,
		userName: "admin2",
		userPassword: "admin2",
		userNickname: "张三三",
		userSex: "男",
		userCreateDate: "2013/05/12",
		userLastLoginDate: "2017/05/10 15:58",
		userTel: "027-88881234",
		userPhone: "15812345678",
		userRemark: "XXXX",
		userState: "启用",
	},{
		userId: 4,
		userName: "admin3",
		userPassword: "admin3",
		userNickname: "张三三三",
		userSex: "女",
		userCreateDate: "2016/04/15",
		userLastLoginDate: "2017/05/10 14:59",
		userTel: "",
		userPhone: "15812345678",
		userRemark: "A",
		userState: "启用",
	},{
		userId: 5,
		userName: "admin5",
		userPassword: "admin5",
		userNickname: "张三",
		userSex: "男",
		userCreateDate: "2017/05/08",
		userLastLoginDate: "2017/05/10 14:58",
		userTel: "027-88881234",
		userPhone: "15812345678",
		userRemark: "",
		userState: "启用",
	},{
		userId: 6,
		userName: "admin6",
		userPassword: "admin6",
		userNickname: "哈哈",
		userSex: "男",
		userCreateDate: "2017/05/10",
		userLastLoginDate: "2017/05/09 14:58",
		userTel: "027-88881234",
		userPhone: "15812345678",
		userRemark: "YYYYY",
		userState: "禁用",
	},{
		userId: 7,
		userName: "admin7",
		userPassword: "admin7",
		userNickname: "张三三",
		userSex: "男",
		userCreateDate: "2013/05/12",
		userLastLoginDate: "2017/05/10 15:58",
		userTel: "027-88881234",
		userPhone: "15812345678",
		userRemark: "XXXX",
		userState: "启用",
	},{
		userId: 8,
		userName: "admin8",
		userPassword: "admin8",
		userNickname: "张三三三",
		userSex: "女",
		userCreateDate: "2016/04/15",
		userLastLoginDate: "2017/05/10 14:59",
		userTel: "",
		userPhone: "15812345678",
		userRemark: "A",
		userState: "启用",
	},{
		userId: 9,
		userName: "admin9",
		userPassword: "admin9",
		userNickname: "哈哈",
		userSex: "男",
		userCreateDate: "2017/05/08",
		userLastLoginDate: "2017/05/10 14:58",
		userTel: "027-88881234",
		userPhone: "15812345678",
		userRemark: "",
		userState: "启用",
	},{
		userId: 10,
		userName: "admin10",
		userPassword: "admin10",
		userNickname: "张三",
		userSex: "男",
		userCreateDate: "2017/05/10",
		userLastLoginDate: "2017/05/09 14:58",
		userTel: "027-88881234",
		userPhone: "15812345678",
		userRemark: "YYYYY",
		userState: "禁用",
	},{
		userId: 11,
		userName: "admin11",
		userPassword: "admin11",
		userNickname: "张三三",
		userSex: "男",
		userCreateDate: "2013/05/12",
		userLastLoginDate: "2017/05/10 15:58",
		userTel: "027-88881234",
		userPhone: "15812345678",
		userRemark: "XXXX",
		userState: "启用",
	},{
		userId: 12,
		userName: "admin12",
		userPassword: "admin12",
		userNickname: "张三三三",
		userSex: "女",
		userCreateDate: "2016/04/15",
		userLastLoginDate: "2017/05/10 14:59",
		userTel: "",
		userPhone: "15812345678",
		userRemark: "A",
		userState: "启用",
	},{
		userId: 13,
		userName: "admin13",
		userPassword: "admin13",
		userNickname: "张三",
		userSex: "男",
		userCreateDate: "2017/05/08",
		userLastLoginDate: "2017/05/10 14:58",
		userTel: "027-88881234",
		userPhone: "15812345678",
		userRemark: "",
		userState: "启用",
	},{
		userId: 14,
		userName: "admin14",
		userPassword: "admin14",
		userNickname: "哈哈",
		userSex: "男",
		userCreateDate: "2017/05/10",
		userLastLoginDate: "2017/05/09 14:58",
		userTel: "027-88881234",
		userPhone: "15812345678",
		userRemark: "YYYYY",
		userState: "禁用",
	},{
		userId: 15,
		userName: "admin15",
		userPassword: "admin15",
		userNickname: "张三三",
		userSex: "男",
		userCreateDate: "2013/05/12",
		userLastLoginDate: "2017/05/10 15:58",
		userTel: "027-88881234",
		userPhone: "15812345678",
		userRemark: "XXXX",
		userState: "启用",
	},{
		userId: 16,
		userName: "admin16",
		userPassword: "admin16",
		userNickname: "张三三三",
		userSex: "女",
		userCreateDate: "2016/04/15",
		userLastLoginDate: "2017/05/10 14:59",
		userTel: "",
		userPhone: "15812345678",
		userRemark: "A",
		userState: "启用",
	}
	
	
	
	];

	var projectData = [{
		projectId:2016101001,
		projectName:"基本建设及修缮管理信息系统1"
	},{
		projectId:2016102001,
		projectName:"基本建设及修缮管理信息系统2"
	},{
		projectId:2016103001,
		projectName:"基本建设及修缮管理信息系统3"
	},{
		projectId:2016104001,
		projectName:"基本建设及修缮管理信息系统4"
	},{
		projectId:2016105001,
		projectName:"基本建设及修缮管理信息系统5"
	},{
		projectId:2016106001,
		projectName:"基本建设及修缮管理信息系统6"
	}];
	
	var details = [{
		projectId: 2016101001,
		role: "施工方",
		userId: 1
	},{
		projectId: 2016101001,
		role: "监理方",
		userId: 2
	},{
		projectId: 2016101001,
		role: "项目负责人",
		userId: 3
	},{
		projectId: 2016101001,
		role: "投资负责人",
		userId: 4
	},{
		projectId: 2016101001,
		role: "报建负责人",
		userId: 5
	},{
		projectId: 2016101001,
		role: "设计负责人",
		userId: 6
	},{
		projectId: 2016101001,
		role: "科长",
		userId: 7
	},{
		projectId: 2016101001,
		role: "副处长",
		userId: 8
	},{
		projectId: 2016101001,
		role: "处长",
		userId: 9
	},{
		projectId: 2016102001,
		role: "施工方",
		userId: 10
	},{
		projectId: 2016102001,
		role: "监理方",
		userId: 12
	},{
		projectId: 2016102001,
		role: "项目负责人",
		userId: 13
	},{
		projectId: 2016102001,
		role: "投资负责人",
		userId: 14
	},{
		projectId: 2016102001,
		role: "报建负责人",
		userId: 15
	},{
		projectId: 2016102001,
		role: "设计负责人",
		userId: 16
	},{
		projectId: 2016102001,
		role: "科长",
		userId: 7
	},{
		projectId: 2016102001,
		role: "副处长",
		userId: 8
	},{
		projectId: 2016102001,
		role: "处长",
		userId: 9
	}
	
	];





		
	$(function () {
	    var data = ej.DataManager(window.gridData);
	    $("#Grid").ejGrid({
	        dataSource: data,
	        locale: "zh-CN",
	        allowPaging: true,
	        allowSorting: true,
	        isResponsive: true,
	        pageSettings: { pageSize: 8 },
	        editSettings: { allowEditing: true, allowAdding: true, allowDeleting: true, },
	        toolbarSettings: { showToolbar: true, toolbarItems: [ej.Grid.ToolBarItems.Add, ej.Grid.ToolBarItems.Edit, 
	        	ej.Grid.ToolBarItems.Delete, ej.Grid.ToolBarItems.Update, ej.Grid.ToolBarItems.Cancel, ej.Grid.ToolBarItems.Search] },
	        columns: [
	               { field: "userId", headerText: "用户ID", width: 60, isPrimaryKey:true , textAlign: ej.TextAlign.Center},
	               { field: "userName", headerText: "登录名", width: 80, textAlign: ej.TextAlign.Center},
	               { field: "userPassword", headerText: "登录密码", width: 75, textAlign: ej.TextAlign.Center},
	               { field: "userNickname", width: 75, headerText: "姓名" , textAlign: ej.TextAlign.Center},
	               { field: "userSex", headerText: "性别", width: 50, editType: ej.Grid.EditingType.Dropdown, textAlign: ej.TextAlign.Center},
	               { field: "userCreateDate", headerText: "创建日期", width: 100, allowEditing:false, textAlign: ej.TextAlign.Center},
	               { field: "userLastLoginDate", headerText: "上次登录时间", width: 120, allowEditing:false, textAlign: ej.TextAlign.Center},
	               { field: "userTel", width: 100, headerText: "固定电话", textAlign: ej.TextAlign.Center },
	               { field: "userPhone", headerText: "手机", width: 80,  textAlign: ej.TextAlign.Center },
	               { field: "userRemark", headerText: "备注", width: 60 , textAlign: ej.TextAlign.Center},
	               { field: "userState", headerText: "状态", width: 80, editType: ej.Grid.EditingType.Dropdown, textAlign: ej.TextAlign.Center}
	        ]
	    });
	});

	$(function () {
		
        var data = ej.DataManager(projectData);
        $("#MasterGrid").ejGrid({
            dataSource: data,
            locale: "zh-CN",
            allowPaging: true,
            allowSorting: true,
            pageSettings: { pageSize: 8 },
            columns: [
                   { field: "projectId", headerText: "项目ID", width: 60, isPrimaryKey:true , textAlign: ej.TextAlign.Center},
                   { field: "projectName", headerText: "项目名称", width: 80, textAlign: ej.TextAlign.Center},
            ],
            rowSelected: function (args) {
                var projectId = args.data.projectId;
                var detaildata = ej.DataManager(details).executeLocal(ej.Query().where("projectId", ej.FilterOperators.equal, projectId, false).take(10));
                var gridObj = $("#DetailGrid").ejGrid("instance");
                gridObj.dataSource(ej.DataManager(detaildata.slice(0, 9)));
            },
        });
    });
	
	$("#DetailGrid").ejGrid({
        dataSource: null,
        // the datasource "window.gridData" is referred from jsondata.min.js
        dataSource: ej.DataManager(details).executeLocal(ej.Query().take(0)),
        isResponsive: true,                
        allowPaging: false,
        editSettings: { allowEditing: true},
        columns: [
             { field: "projectId", headerText: "项目ID", textAlign: ej.TextAlign.Center, width: 125, allowEditing:false },
             { field: "role", headerText: "角色", width: 100,textAlign: ej.TextAlign.Center,allowEditing:false },
             { field: "userId", headerText: "用户ID(双击编辑)", textAlign: ej.TextAlign.Center,editType: ej.Grid.EditingType.Dropdown, width: 100 }
        ]
    });